<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Aviso - Costa Laguna Segura</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'costa-green': '#10B981',
                        'costa-green-dark': '#059669',
                        'costa-green-light': '#34D399',
                        'costa-black': '#111827',
                        'costa-gray-dark': '#1F2937',
                        'costa-gray-light': '#F9FAFB',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.8s ease-in-out',
                        'slide-up': 'slideUp 0.6s ease-out',
                        'pulse-slow': 'pulse 3s infinite',
                        'float': 'float 3s ease-in-out infinite',
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }
        .gradient-bg {
            background: linear-gradient(135deg, #111827, #1F2937);
        }
        .glassmorphism {
            background: rgba(31, 41, 55, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        .glassmorphism-light {
            background: rgba(31, 41, 55, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(16, 185, 129, 0.15);
        }
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px -12px rgba(16, 185, 129, 0.15);
        }
        /* Estilos para formularios oscuros */
        .form-input {
            background: rgba(31, 41, 55, 0.8);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: white;
            border-radius: 0.5rem;
            padding: 0.75rem;
            transition: all 0.3s ease;
        }
        .form-input:focus {
            outline: none;
            border-color: #10B981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
            background: rgba(31, 41, 55, 0.9);
        }
        .form-input::placeholder {
            color: rgb(156, 163, 175);
        }
        .form-select {
            background: rgba(31, 41, 55, 0.8);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: white;
            border-radius: 0.5rem;
            padding: 0.75rem;
            transition: all 0.3s ease;
        }
        .form-select:focus {
            outline: none;
            border-color: #10B981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
            background: rgba(31, 41, 55, 0.9);
        }
        .form-textarea {
            background: rgba(31, 41, 55, 0.8);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: white;
            border-radius: 0.5rem;
            padding: 0.75rem;
            transition: all 0.3s ease;
            min-height: 120px;
            resize: vertical;
        }
        .form-textarea:focus {
            outline: none;
            border-color: #10B981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
            background: rgba(31, 41, 55, 0.9);
        }
        .form-textarea::placeholder {
            color: rgb(156, 163, 175);
        }
        .checkbox-container {
            position: relative;
            display: inline-flex;
            align-items: center;
        }
        .navbar-blur {
        background: rgba(11, 17, 32, 0.85);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(16, 185, 129, 0.15);
        box-shadow: 0 4px 32px rgba(0, 0, 0, 0.3);
    }

    .nav-item-hover { 
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
        position: relative;
    }
    
    .nav-item-hover::before {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, #10B981, #34D399);
        transition: all 0.3s ease;
        transform: translateX(-50%);
    }
    
    .nav-item-hover:hover::before {
        width: 100%;
    }
    
    .nav-item-hover:hover { 
        transform: translateY(-2px);
        color: #34D399;
    }

    .glassmorphism-strong {
        background: rgba(11, 17, 32, 0.95);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(16, 185, 129, 0.25);
    }

    .text-gradient {
        background: linear-gradient(135deg, #10B981, #34D399);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .user-avatar {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
    }

    .user-avatar::before {
        content: '';
        position: absolute;
        inset: -2px;
        background: linear-gradient(45deg, #10B981, #34D399, #06B6D4);
        border-radius: inherit;
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: -1;
    }

    .user-avatar:hover::before {
        opacity: 1;
    }

    .user-avatar:hover {
        transform: scale(1.05);
    }

    .dropdown-enter {
        animation: scaleIn 0.2s ease-out forwards;
    }

    .mobile-menu-overlay {
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(8px);
    }

    .logo-glow:hover {
        filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.5));
    }

    .button-glow {
        box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
        transition: all 0.3s ease;
    }

    .button-glow:hover {
        box-shadow: 0 0 30px rgba(16, 185, 129, 0.5);
        transform: translateY(-1px);
    }

    @keyframes scaleIn {
        from { transform: scale(0.95); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
    }
        .checkbox-input {
            appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid rgba(16, 185, 129, 0.5);
            border-radius: 0.25rem;
            background: rgba(31, 41, 55, 0.8);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .checkbox-input:checked {
            background: #10B981;
            border-color: #10B981;
        }
        .checkbox-input:checked::after {
            content: "✓";
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 0.875rem;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-costa-black via-costa-gray-dark to-black min-h-screen">
    <!-- Navegación -->
    <nav class="navbar-blur sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
            <!-- Logo Section -->
            <div class="flex-shrink-0 flex items-center">
                <a href="{% url 'home' %}" class="flex items-center animate-fade-in group logo-glow">
                    <div class="relative mr-4">
                        <div class="p-2 bg-gradient-to-br from-costa-green to-costa-cyan rounded-xl group-hover:scale-110 transition-all duration-300">
                            <i data-lucide="shield-alert" class="h-8 w-8 text-white"></i>
                        </div>
                        <div class="absolute -top-1 -right-1 w-3 h-3 bg-costa-green rounded-full animate-ping notification-dot"></div>
                    </div>
                    <div class="hidden sm:block">
                        <h1 class="text-white text-xl font-bold text-gradient group-hover:scale-105 transition-transform">
                            Costa Laguna Segura
                        </h1>
                        <p class="text-xs text-gray-400 font-medium">Sistema de Alertas</p>
                    </div>
                </a>
            </div>

            <!-- Desktop Navigation -->
            <div class="hidden md:flex items-center space-x-6">
                {% if user.is_authenticated %}
                    <!-- Quick Actions para usuarios autenticados -->
                    <div class="flex items-center space-x-3">
                        <a href="{% url 'crear_aviso' %}" class="nav-item-hover bg-gradient-to-r from-costa-green to-costa-green-light text-white px-6 py-2.5 rounded-xl font-semibold text-sm button-glow group">
                            <i data-lucide="plus" class="inline h-4 w-4 mr-2 group-hover:rotate-90 transition-transform"></i>
                            Nuevo Aviso
                        </a>
                        
                        <a href="{% url 'lista_avisos' %}" class="nav-item-hover text-gray-300 hover:text-white px-4 py-2 rounded-lg font-medium text-sm">
                            <i data-lucide="list" class="inline h-4 w-4 mr-2"></i>
                            Avisos
                        </a>
                    </div>

                    <!-- User Menu -->
                    <div class="relative">
                        <button id="user-menu-button" type="button" class="flex items-center space-x-3 p-2 rounded-xl hover:bg-costa-gray-dark/30 transition-all group">
                            <!-- User Avatar with Photo Support -->
                            <div class="user-avatar">
                                {% if user.perfilusuario and user.perfilusuario.foto_perfil %}
                                    <img src="{{ user.perfilusuario.foto_perfil.url }}" 
                                         alt="{{ user.get_full_name|default:user.username }}"
                                         class="w-10 h-10 rounded-xl object-cover border-2 border-costa-green/30">
                                {% else %}
                                    <div class="w-10 h-10 bg-gradient-to-br from-costa-green via-costa-cyan to-costa-purple rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-lg">
                                        {% if user.first_name %}{{ user.first_name.0|upper }}{% elif user.username %}{{ user.username.0|upper }}{% else %}U{% endif %}
                                    </div>
                                {% endif %}
                                <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-costa-green rounded-full border-2 border-costa-black flex items-center justify-center">
                                    <div class="w-2 h-2 bg-white rounded-full"></div>
                                </div>
                            </div>
                            
                            <div class="hidden lg:block text-left">
                                <p class="text-sm font-semibold text-white group-hover:text-costa-green transition-colors">
                                    {{ user.get_full_name|default:user.username }}
                                </p>
                                <p class="text-xs text-gray-400">
                                    {% if user.is_staff %}Admin{% else %}Usuario{% endif %}
                                </p>
                            </div>
                            
                            <i data-lucide="chevron-down" class="h-4 w-4 text-gray-400 group-hover:text-costa-green transition-all group-hover:rotate-180"></i>
                        </button>
                        
                        <!-- Dropdown Menu -->
                        <div id="user-menu" class="hidden absolute right-0 mt-3 w-72 origin-top-right rounded-2xl shadow-2xl glassmorphism-strong border border-costa-green/30 dropdown-enter overflow-hidden" role="menu">
                            <!-- User Info Header -->
                            <div class="px-6 py-4 border-b border-costa-green/20 bg-gradient-to-r from-costa-green/10 to-costa-cyan/10">
                                <div class="flex items-center space-x-3">
                                    {% if user.perfilusuario and user.perfilusuario.foto_perfil %}
                                        <img src="{{ user.perfilusuario.foto_perfil.url }}" 
                                             alt="{{ user.get_full_name|default:user.username }}"
                                             class="w-12 h-12 rounded-xl object-cover border-2 border-costa-green/50">
                                    {% else %}
                                        <div class="w-12 h-12 bg-gradient-to-br from-costa-green via-costa-cyan to-costa-purple rounded-xl flex items-center justify-center text-white font-bold shadow-lg">
                                            {% if user.first_name %}{{ user.first_name.0|upper }}{% elif user.username %}{{ user.username.0|upper }}{% else %}U{% endif %}
                                        </div>
                                    {% endif %}
                                    <div>
                                        <p class="text-sm font-semibold text-white">{{ user.get_full_name|default:user.username }}</p>
                                        <p class="text-xs text-costa-green">{{ user.email }}</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Menu Items -->
                            <div class="py-2">
                                <a href="{% url 'perfil_usuario' %}" class="flex items-center px-6 py-3 text-sm text-gray-300 hover:bg-costa-green/10 hover:text-white transition-all group">
                                    <div class="p-2 bg-costa-green/10 rounded-lg mr-3 group-hover:bg-costa-green group-hover:scale-110 transition-all">
                                        <i data-lucide="user-circle" class="h-4 w-4 group-hover:text-white"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">Mi Perfil</p>
                                        <p class="text-xs text-gray-500">Configurar cuenta</p>
                                    </div>
                                </a>
                                
                                <a href="{% url 'mis_avisos' %}" class="flex items-center px-6 py-3 text-sm text-gray-300 hover:bg-costa-cyan/10 hover:text-white transition-all group">
                                    <div class="p-2 bg-costa-cyan/10 rounded-lg mr-3 group-hover:bg-costa-cyan group-hover:scale-110 transition-all">
                                        <i data-lucide="layout-list" class="h-4 w-4 group-hover:text-white"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">Mis Avisos</p>
                                        <p class="text-xs text-gray-500">Gestionar reportes</p>
                                    </div>
                                </a>
                                
                                {% if user.is_staff %}
                                <a href="{% url 'admin_dashboard' %}" class="flex items-center px-6 py-3 text-sm text-yellow-400 hover:bg-yellow-400/10 hover:text-yellow-300 transition-all group">
                                    <div class="p-2 bg-yellow-400/10 rounded-lg mr-3 group-hover:bg-yellow-400 group-hover:scale-110 transition-all">
                                        <i data-lucide="shield-check" class="h-4 w-4 group-hover:text-white"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">Panel Admin</p>
                                        <p class="text-xs text-yellow-500">Administración</p>
                                    </div>
                                </a>
                                {% endif %}
                                
                                <div class="border-t border-costa-green/10 my-2"></div>
                                
                                <form method="post" action="{% url 'logout' %}">
                                    {% csrf_token %}
                                    <button type="submit" class="w-full text-left flex items-center px-6 py-3 text-sm text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all group">
                                        <div class="p-2 bg-red-500/10 rounded-lg mr-3 group-hover:bg-red-500 group-hover:scale-110 transition-all">
                                            <i data-lucide="log-out" class="h-4 w-4 group-hover:text-white"></i>
                                        </div>
                                        <div>
                                            <p class="font-medium">Cerrar Sesión</p>
                                            <p class="text-xs text-red-500">Salir del sistema</p>
                                        </div>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="flex items-center space-x-3">
                        <a href="{% url 'lista_avisos' %}" class="nav-item-hover text-gray-300 hover:text-white px-4 py-2 rounded-lg font-medium text-sm">
                            <i data-lucide="eye" class="inline h-4 w-4 mr-2"></i>
                            Ver Avisos
                        </a>
                        
                        <a href="{% url 'login' %}" class="nav-item-hover text-gray-300 hover:text-white px-4 py-2 rounded-lg font-medium text-sm">
                            <i data-lucide="log-in" class="inline h-4 w-4 mr-2"></i>
                            Iniciar Sesión
                        </a>
                        
                        <a href="{% url 'registro' %}" class="nav-item-hover bg-gradient-to-r from-costa-green to-costa-green-light text-white px-6 py-2.5 rounded-xl font-semibold text-sm button-glow group">
                            <i data-lucide="user-plus" class="inline h-4 w-4 mr-2 group-hover:scale-110 transition-transform"></i>
                            Registrarse
                        </a>
                    </div>
                {% endif %}
            </div>

            <!-- Mobile menu button -->
            <div class="md:hidden">
                <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-3 rounded-xl text-gray-400 hover:text-white hover:bg-costa-gray-dark/50 transition-all">
                    <i id="mobile-menu-icon" data-lucide="menu" class="h-6 w-6"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden">
        <div class="mobile-menu-overlay absolute inset-0 z-40"></div>
        <div class="relative z-50 glassmorphism-strong border-t border-costa-green/20 mx-4 mb-4 rounded-2xl overflow-hidden">
            {% if user.is_authenticated %}
                <!-- Mobile User Info -->
                <div class="px-6 py-4 bg-gradient-to-r from-costa-green/10 to-costa-cyan/10 border-b border-costa-green/20">
                    <div class="flex items-center space-x-3">
                        {% if user.perfilusuario and user.perfilusuario.foto_perfil %}
                            <img src="{{ user.perfilusuario.foto_perfil.url }}" 
                                 alt="{{ user.get_full_name|default:user.username }}"
                                 class="w-12 h-12 rounded-xl object-cover border-2 border-costa-green/50">
                        {% else %}
                            <div class="w-12 h-12 bg-gradient-to-br from-costa-green via-costa-cyan to-costa-purple rounded-xl flex items-center justify-center text-white font-bold">
                                {% if user.first_name %}{{ user.first_name.0|upper }}{% elif user.username %}{{ user.username.0|upper }}{% else %}U{% endif %}
                            </div>
                        {% endif %}
                        <div>
                            <div class="text-base font-semibold text-white">{{ user.get_full_name|default:user.username }}</div>
                            <div class="text-sm font-medium text-gray-400">{{ user.email }}</div>
                        </div>
                    </div>
                </div>

                <!-- Mobile Navigation Items -->
                <div class="px-4 py-4 space-y-2">
                    <a href="{% url 'crear_aviso' %}" class="flex items-center bg-gradient-to-r from-costa-green to-costa-green-light text-white px-4 py-3 rounded-xl text-base font-semibold button-glow">
                        <i data-lucide="plus" class="mr-3 h-5 w-5"></i>Crear Aviso
                    </a>
                    
                    <a href="{% url 'lista_avisos' %}" class="flex items-center text-gray-300 hover:bg-costa-gray-dark/50 hover:text-white px-4 py-3 rounded-xl text-base font-medium transition-all">
                        <i data-lucide="list" class="mr-3 h-5 w-5"></i>Ver Avisos
                    </a>
                    
                    <a href="{% url 'perfil_usuario' %}" class="flex items-center text-gray-300 hover:bg-costa-gray-dark/50 hover:text-white px-4 py-3 rounded-xl text-base font-medium transition-all">
                        <i data-lucide="user-circle" class="mr-3 h-5 w-5"></i>Mi Perfil
                    </a>
                    
                    <a href="{% url 'mis_avisos' %}" class="flex items-center text-gray-300 hover:bg-costa-gray-dark/50 hover:text-white px-4 py-3 rounded-xl text-base font-medium transition-all">
                        <i data-lucide="layout-list" class="mr-3 h-5 w-5"></i>Mis Avisos
                    </a>
                    
                    {% if user.is_staff %}
                    <a href="{% url 'admin_dashboard' %}" class="flex items-center text-yellow-400 hover:bg-yellow-400/10 hover:text-yellow-300 px-4 py-3 rounded-xl text-base font-medium transition-all">
                        <i data-lucide="shield-check" class="mr-3 h-5 w-5"></i>Panel Admin
                    </a>
                    {% endif %}
                </div>
                
                <!-- Mobile Logout -->
                <div class="px-4 pb-4 pt-2 border-t border-costa-green/20">
                    <form method="post" action="{% url 'logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="w-full text-left flex items-center px-4 py-3 rounded-xl text-base font-medium text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all">
                            <i data-lucide="log-out" class="mr-3 h-5 w-5"></i>Cerrar Sesión
                        </button>
                    </form>
                </div>
            {% else %}
                <!-- Mobile Menu para usuarios no autenticados -->
                <div class="px-6 py-4 bg-gradient-to-r from-costa-green/10 to-costa-cyan/10 border-b border-costa-green/20">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-costa-green via-costa-cyan to-costa-purple rounded-xl flex items-center justify-center text-white font-bold text-xl mx-auto mb-3">
                            <i data-lucide="shield-alert" class="h-8 w-8"></i>
                        </div>
                        <h3 class="text-lg font-bold text-white">Costa Laguna Segura</h3>
                        <p class="text-sm text-gray-400">Sistema de Alertas Comunitario</p>
                    </div>
                </div>

                <!-- Mobile Navigation Items para no autenticados -->
                <div class="px-4 py-4 space-y-2">
                    <a href="{% url 'lista_avisos' %}" class="flex items-center text-gray-300 hover:bg-costa-gray-dark/50 hover:text-white px-4 py-3 rounded-xl text-base font-medium transition-all">
                        <i data-lucide="eye" class="mr-3 h-5 w-5"></i>Ver Avisos
                    </a>
                    
                    <a href="{% url 'login' %}" class="flex items-center text-gray-300 hover:bg-costa-gray-dark/50 hover:text-white px-4 py-3 rounded-xl text-base font-medium transition-all">
                        <i data-lucide="log-in" class="mr-3 h-5 w-5"></i>Iniciar Sesión
                    </a>
                    
                    <a href="{% url 'registro' %}" class="flex items-center bg-gradient-to-r from-costa-green to-costa-green-light text-white px-4 py-3 rounded-xl text-base font-semibold button-glow">
                        <i data-lucide="user-plus" class="mr-3 h-5 w-5"></i>Registrarse
                    </a>
                </div>
                
                <!-- Información adicional -->
                <div class="px-4 pb-4 pt-2 border-t border-costa-green/20">
                    <p class="text-center text-sm text-gray-400">
                        Únete a nuestra comunidad para reportar y ver avisos de seguridad
                    </p>
                </div>
            {% endif %}
        </div>
    </div>
</nav>

    <!-- Mensajes -->
    {% if messages %}
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-4">
            {% for message in messages %}
                <div class="mb-4 p-4 rounded-xl animate-slide-up shadow-lg {% if message.tags == 'error' %}bg-red-900/20 text-red-300 border border-red-500/30{% elif message.tags == 'success' %}bg-green-900/20 text-green-300 border border-green-500/30{% elif message.tags == 'warning' %}bg-yellow-900/20 text-yellow-300 border border-yellow-500/30{% else %}bg-blue-900/20 text-blue-300 border border-blue-500/30{% endif %} backdrop-blur-sm">
                    <div class="flex items-center">
                        <i data-lucide="{% if message.tags == 'error' %}alert-circle{% elif message.tags == 'success' %}check-circle{% elif message.tags == 'warning' %}alert-triangle{% else %}info{% endif %}" class="h-5 w-5 mr-3 animate-pulse"></i>
                        <span class="font-medium">{{ message }}</span>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Contenido -->
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="glassmorphism rounded-2xl shadow-2xl overflow-hidden animate-fade-in">
            <!-- Header -->
            <div class="bg-gradient-to-r from-yellow-600 to-yellow-500 text-white p-8">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-3xl font-bold mb-3 flex items-center">
                            <i data-lucide="edit" class="h-8 w-8 mr-3 animate-float"></i>
                            Editar Aviso
                        </h1>
                        <p class="text-yellow-100 text-lg">Actualiza la información de tu reporte</p>
                    </div>
                    <div class="hidden lg:block">
                        <div class="bg-white/20 backdrop-blur-sm rounded-2xl p-4 border border-white/30">
                            <i data-lucide="shield-alert" class="h-12 w-12 animate-pulse-slow"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Información actual del aviso -->
            <div class="bg-gradient-to-r from-blue-900/30 to-blue-800/30 border-b border-blue-500/30 p-6 backdrop-blur-sm">
                <div class="flex items-start justify-between">
                    <div>
                        <div class="flex items-center space-x-3 mb-4">
                            <span class="inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-gradient-to-r {{ object.get_prioridad_bg_color }} text-white shadow-lg">
                                <i data-lucide="alert-triangle" class="h-4 w-4 mr-2"></i>
                                {{ object.get_prioridad_display }}
                            </span>
                            <span class="inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-gradient-to-r from-costa-green to-costa-green-light text-white shadow-lg">
                                <i data-lucide="tag" class="h-4 w-4 mr-2"></i>
                                {{ object.get_tipo_display }}
                            </span>
                        </div>
                        <div class="text-blue-100 space-y-2">
                            <p class="flex items-center">
                                <i data-lucide="calendar" class="h-4 w-4 mr-2 text-blue-300"></i>
                                <span class="font-medium">Creado:</span>
                                <span class="ml-2">{{ object.fecha_creacion|date:"d/m/Y H:i" }}</span>
                            </p>
                            {% if object.fecha_actualizacion != object.fecha_creacion %}
                            <p class="flex items-center">
                                <i data-lucide="edit" class="h-4 w-4 mr-2 text-blue-300"></i>
                                <span class="font-medium">Última actualización:</span>
                                <span class="ml-2">{{ object.fecha_actualizacion|date:"d/m/Y H:i" }}</span>
                            </p>
                            {% endif %}
                        </div>
                    </div>
                    <div class="hidden md:block p-3 bg-blue-500/20 rounded-xl border border-blue-400/30">
                        <i data-lucide="info" class="h-8 w-8 text-blue-300"></i>
                    </div>
                </div>
            </div>

            <!-- Formulario -->
            <form method="post" enctype="multipart/form-data" class="p-8 space-y-8" id="editar-aviso-form">
                {% csrf_token %}
                
                <!-- Título -->
                <div class="animate-slide-up">
                    <label for="{{ form.titulo.id_for_label }}" class="block text-sm font-medium text-white mb-3 flex items-center">
                        <i data-lucide="type" class="h-5 w-5 mr-2 text-costa-green"></i>
                        Título del Aviso *
                    </label>
                    {{ form.titulo }}
                    {% if form.titulo.errors %}
                        <p class="mt-2 text-sm text-red-400 flex items-center">
                            <i data-lucide="alert-circle" class="h-4 w-4 mr-1"></i>
                            {{ form.titulo.errors.0 }}
                        </p>
                    {% endif %}
                    <p class="mt-2 text-xs text-gray-400">Describe brevemente el incidente (5-200 caracteres)</p>
                </div>

                <!-- Tipo y Prioridad -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 animate-slide-up" style="animation-delay: 0.1s;">
                    <div class="glassmorphism-light p-6 rounded-xl card-hover">
                        <label for="{{ form.tipo.id_for_label }}" class="block text-sm font-medium text-white mb-3 flex items-center">
                            <i data-lucide="tag" class="h-5 w-5 mr-2 text-costa-green"></i>
                            Tipo de Aviso *
                        </label>
                        {{ form.tipo }}
                        {% if form.tipo.errors %}
                            <p class="mt-2 text-sm text-red-400 flex items-center">
                                <i data-lucide="alert-circle" class="h-4 w-4 mr-1"></i>
                                {{ form.tipo.errors.0 }}
                            </p>
                        {% endif %}
                    </div>
                    
                    <div class="glassmorphism-light p-6 rounded-xl card-hover">
                        <label for="{{ form.prioridad.id_for_label }}" class="block text-sm font-medium text-white mb-3 flex items-center">
                            <i data-lucide="alert-triangle" class="h-5 w-5 mr-2 text-costa-green"></i>
                            Prioridad *
                        </label>
                        {{ form.prioridad }}
                        {% if form.prioridad.errors %}
                            <p class="mt-2 text-sm text-red-400 flex items-center">
                                <i data-lucide="alert-circle" class="h-4 w-4 mr-1"></i>
                                {{ form.prioridad.errors.0 }}
                            </p>
                        {% endif %}
                    </div>
                </div>

                <!-- Descripción -->
                <div class="animate-slide-up" style="animation-delay: 0.2s;">
                    <label for="{{ form.descripcion.id_for_label }}" class="block text-sm font-medium text-white mb-3 flex items-center">
                        <i data-lucide="file-text" class="h-5 w-5 mr-2 text-costa-green"></i>
                        Descripción Detallada *
                    </label>
                    {{ form.descripcion }}
                    {% if form.descripcion.errors %}
                        <p class="mt-2 text-sm text-red-400 flex items-center">
                            <i data-lucide="alert-circle" class="h-4 w-4 mr-1"></i>
                            {{ form.descripcion.errors.0 }}
                        </p>
                    {% endif %}
                    <p class="mt-2 text-xs text-gray-400">
                        Incluye: ¿Qué pasó? ¿Cuándo? ¿Cómo? ¿Quién estuvo involucrado? (mínimo 10 caracteres)
                    </p>
                </div>

                <!-- Ubicación -->
                <div class="glassmorphism-light p-6 rounded-xl animate-slide-up" style="animation-delay: 0.3s;">
                    <h3 class="text-lg font-semibold text-white mb-6 flex items-center">
                        <i data-lucide="map-pin" class="h-6 w-6 mr-3 text-costa-green"></i>
                        Información de Ubicación
                    </h3>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div>
                            <label for="{{ form.direccion.id_for_label }}" class="block text-sm font-medium text-white mb-3">
                                Dirección Exacta *
                            </label>
                            {{ form.direccion }}
                            {% if form.direccion.errors %}
                                <p class="mt-2 text-sm text-red-400 flex items-center">
                                    <i data-lucide="alert-circle" class="h-4 w-4 mr-1"></i>
                                    {{ form.direccion.errors.0 }}
                                </p>
                            {% endif %}
                            <p class="mt-2 text-xs text-gray-400">Incluye número de casa/departamento</p>
                        </div>
                        
                        <div>
                            <label for="{{ form.sector.id_for_label }}" class="block text-sm font-medium text-white mb-3">
                                Sector *
                            </label>
                            {{ form.sector }}
                            {% if form.sector.errors %}
                                <p class="mt-2 text-sm text-red-400 flex items-center">
                                    <i data-lucide="alert-circle" class="h-4 w-4 mr-1"></i>
                                    {{ form.sector.errors.0 }}
                                </p>
                            {% endif %}
                            <p class="mt-2 text-xs text-gray-400">Especifica manzana, block o referencia</p>
                        </div>
                    </div>
                </div>

                <!-- Información de contacto e imagen -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 animate-slide-up" style="animation-delay: 0.4s;">
                    <div class="glassmorphism-light p-6 rounded-xl">
                        <label for="{{ form.telefono_contacto.id_for_label }}" class="block text-sm font-medium text-white mb-3 flex items-center">
                            <i data-lucide="phone" class="h-5 w-5 mr-2 text-costa-green"></i>
                            Teléfono de Contacto
                        </label>
                        {{ form.telefono_contacto }}
                        {% if form.telefono_contacto.errors %}
                            <p class="mt-2 text-sm text-red-400 flex items-center">
                                <i data-lucide="alert-circle" class="h-4 w-4 mr-1"></i>
                                {{ form.telefono_contacto.errors.0 }}
                            </p>
                        {% endif %}
                        <p class="mt-2 text-xs text-gray-400">Opcional - Para que otros puedan contactarte directamente</p>
                    </div>
                    
                    <div class="glassmorphism-light p-6 rounded-xl">
                        <label for="{{ form.imagen.id_for_label }}" class="block text-sm font-medium text-white mb-3 flex items-center">
                            <i data-lucide="image" class="h-5 w-5 mr-2 text-costa-green"></i>
                            Imagen del Incidente
                        </label>
                        
                        {% if object.imagen %}
                            <div class="mb-4 p-3 bg-costa-gray-dark/50 rounded-lg border border-costa-green/20">
                                <div class="flex items-start space-x-3">
                                    <img src="{{ object.imagen.url }}" alt="Imagen actual" class="h-16 w-16 object-cover rounded-lg border border-costa-green/30 shadow-lg">
                                    <div class="flex-1">
                                        <p class="text-sm font-medium text-white">Imagen actual</p>
                                        <p class="text-xs text-gray-400 mt-1">Selecciona una nueva imagen para reemplazarla</p>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                        
                        {{ form.imagen }}
                        {% if form.imagen.errors %}
                            <p class="mt-2 text-sm text-red-400 flex items-center">
                                <i data-lucide="alert-circle" class="h-4 w-4 mr-1"></i>
                                {{ form.imagen.errors.0 }}
                            </p>
                        {% endif %}
                        <p class="mt-2 text-xs text-gray-400">
                            Opcional - Máximo 5MB. Formatos: JPEG, PNG, GIF. {% if object.imagen %}Deja vacío para mantener la imagen actual.{% endif %}
                        </p>
                    </div>
                </div>

                <!-- Opciones adicionales -->
                <div class="glassmorphism-light p-6 rounded-xl animate-slide-up" style="animation-delay: 0.5s;">
                    <h3 class="text-sm font-semibold text-white mb-4 flex items-center">
                        <i data-lucide="settings" class="h-5 w-5 mr-2 text-costa-green"></i>
                        Opciones de Privacidad
                    </h3>
                    <div class="flex items-start space-x-3">
                        <div class="checkbox-container">
                            {{ form.es_anonimo }}
                        </div>
                        <div>
                            <label for="{{ form.es_anonimo.id_for_label }}" class="text-sm text-white font-medium cursor-pointer">
                                Publicar de forma anónima
                            </label>
                            <p class="text-xs text-gray-400 mt-1">
                                Si marcas esta opción, tu nombre no será visible públicamente en este aviso
                            </p>
                        </div>
                    </div>
                    {% if form.es_anonimo.errors %}
                        <p class="mt-2 text-sm text-red-400 flex items-center">
                            <i data-lucide="alert-circle" class="h-4 w-4 mr-1"></i>
                            {{ form.es_anonimo.errors.0 }}
                        </p>
                    {% endif %}
                </div>

                <!-- Errores generales del formulario -->
                {% if form.non_field_errors %}
                    <div class="bg-red-900/20 border border-red-500/30 text-red-300 px-6 py-4 rounded-xl backdrop-blur-sm">
                        <div class="flex items-start">
                            <i data-lucide="alert-triangle" class="h-5 w-5 mr-3 mt-0.5 text-red-400"></i>
                            <div>
                                {% for error in form.non_field_errors %}
                                    <p class="font-medium">{{ error }}</p>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                {% endif %}

                <!-- Botones de acción -->
                <div class="flex flex-col sm:flex-row justify-between items-center pt-8 border-t border-costa-green/20 space-y-4 sm:space-y-0 animate-slide-up" style="animation-delay: 0.6s;">
                    <a href="{% url 'aviso_detalle' object.pk %}" class="group px-6 py-3 border border-gray-500/50 rounded-xl text-gray-300 hover:bg-gray-600/20 transition-all text-sm font-medium hover:border-gray-400">
                        <i data-lucide="x" class="inline h-4 w-4 mr-2 group-hover:rotate-90 transition-transform"></i>
                        Cancelar
                    </a>
                    
                    <div class="flex space-x-4">
                        <a href="{% url 'mis_avisos' %}" class="group px-6 py-3 border border-costa-green/50 rounded-xl text-costa-green hover:bg-costa-green/10 transition-all text-sm font-medium hover:border-costa-green">
                            <i data-lucide="list" class="inline h-4 w-4 mr-2 group-hover:scale-110 transition-transform"></i>
                            Ver mis avisos
                        </a>
                        <button type="submit" class="group px-8 py-3 bg-gradient-to-r from-yellow-600 to-yellow-500 text-white rounded-xl hover:from-yellow-700 hover:to-yellow-600 transition-all text-sm font-medium transform hover:scale-105 shadow-lg">
                            <i data-lucide="save" class="inline h-4 w-4 mr-2 group-hover:scale-110 transition-transform"></i>
                            Guardar Cambios
                        </button>
                    </div>
                </div>
            </form>
        </div>

        <!-- Información de ayuda -->
        <div class="mt-8 glassmorphism rounded-xl p-8 shadow-xl animate-slide-up" style="animation-delay: 0.7s;">
            <h3 class="text-xl font-semibold text-white mb-6 flex items-center">
                <i data-lucide="lightbulb" class="h-6 w-6 mr-3 text-yellow-400"></i>
                Consejos para Editar tu Aviso
            </h3>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 text-sm text-gray-300">
                <div>
                    <h4 class="font-semibold mb-4 text-costa-green">Al Actualizar:</h4>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <i data-lucide="check-circle" class="h-5 w-5 mr-3 mt-0.5 text-costa-green"></i>
                            <span>Verifica que la información siga siendo precisa</span>
                        </li>
                        <li class="flex items-start">
                            <i data-lucide="check-circle" class="h-5 w-5 mr-3 mt-0.5 text-costa-green"></i>
                            <span>Actualiza detalles si la situación cambió</span>
                        </li>
                        <li class="flex items-start">
                            <i data-lucide="check-circle" class="h-5 w-5 mr-3 mt-0.5 text-costa-green"></i>
                            <span>Considera cambiar la prioridad si es necesario</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4 text-costa-green">Recuerda:</h4>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <i data-lucide="check-circle" class="h-5 w-5 mr-3 mt-0.5 text-costa-green"></i>
                            <span>Los cambios serán visibles inmediatamente</span>
                        </li>
                        <li class="flex items-start">
                            <i data-lucide="check-circle" class="h-5 w-5 mr-3 mt-0.5 text-costa-green"></i>
                            <span>Se registrará la fecha de actualización</span>
                        </li>
                        <li class="flex items-start">
                            <i data-lucide="check-circle" class="h-5 w-5 mr-3 mt-0.5 text-costa-green"></i>
                            <span>Mantén la objetividad en los datos</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/editar.js">
        
    </script>
</body>
</html>